<!DOCTYPE html>
<!--
This is a starter template page. Use this page to start your new project from
scratch. This page gets rid of all links and provides the needed markup only.
-->
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Trang chủ | Hệ thống quản lý đề tài KHCN</title>
    <!-- Font Awesome Icons -->
    <link href="~/adminlte3/plugins/fontawesome-free/css/all.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="~/adminlte3/plugins/fontawesome-free/css/all.min.css">
    <link rel="stylesheet" href="~/adminlte3/plugins/fontawesome-free/css/fontawesome.min.css">
    <!-- Ionicons -->
    <link rel="stylesheet" href="~/adminlte3/plugins/Ionicons/css/ionicons.min.css">
    <!-- DataTables -->
    <link rel="stylesheet" href="~/adminlte3/plugins/datatables-bs4/css/dataTables.bootstrap4.css">
    <link href="~/adminlte3/plugins/datatables-fixedcolumns/css/fixedColumns.bootstrap4.min.css" rel="stylesheet" />
    <!-- iCheck for checkboxes and radio inputs -->
    <link rel="stylesheet" href="~/adminlte3/plugins/icheck-bootstrap/icheck-bootstrap.min.css">
    @*<link href="~/lib/syncfusion/bootstrap-select.min.css" rel="stylesheet" />*@
    <!-- Select2 -->
    <link rel="stylesheet" href="~/adminlte3/plugins/select2/css/select2.min.css">
    <link rel="stylesheet" href="~/adminlte3/plugins/select2-bootstrap4-theme/select2-bootstrap4.min.css">
    <!-- Jquery Confirm -->
    <link href="~/lib/jquery-confirm/jquery-confirm.min.css" rel="stylesheet" />
    <!-- jsTree -->
    <link href="@Url.Content("~/lib/jsTree/style.min.css")" rel="stylesheet" />
    <!-- Theme style -->
    <link rel="stylesheet" href="~/adminlte3/dist/css/adminlte.min.css">
    @*<link href="@Url.Content("~/Scripts/LTE/bootstrap-datepicker.min.css")" rel="stylesheet" />
        <link href="@Url.Content("~/Scripts/LTE/bootstrap-timepicker.css")" rel="stylesheet" />
        <link href="@Url.Content("~/Content/CSSBase/daterangepicker.css")" rel="stylesheet" />*@
    <!-- Pace style -->
    <link rel="stylesheet" href="~/adminlte3/plugins/pace/pace.min.css">
    <!-- Google Font: Source Sans Pro -->
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700" rel="stylesheet">
    <link href="~/css/style.css" rel="stylesheet" />

    @RenderSection("Styles", required: false)

    @{ 
        var now = @DateTime.Now;
        string strDayofWeek = "";
        var dayofWeek = now.DayOfWeek;

        switch (dayofWeek)
        {
            case DayOfWeek.Sunday:
                strDayofWeek = "Chủ Nhật";
                break;
            case DayOfWeek.Monday:
                strDayofWeek = "Thứ Hai";
                break;
            case DayOfWeek.Tuesday:
                strDayofWeek = "Thứ Ba";
                break;
            case DayOfWeek.Wednesday:
                strDayofWeek = "Thứ Tư";
                break;
            case DayOfWeek.Thursday:
                strDayofWeek = "Thứ Năm";
                break;
            case DayOfWeek.Friday:
                strDayofWeek = "Thứ Sáu";
                break;
            case DayOfWeek.Saturday:
                strDayofWeek = "Thứ Bảy";
                break;
            default:
                break;
        }

        ViewBag.Title2 = $"{now.Hour.ToString("00")}:{now.Minute.ToString("00")} {@strDayofWeek}, ngày {now.Day.ToString("00")} tháng {now.Month.ToString("00")} năm {now.Year}";
    }
</head>
<body class="hold-transition sidebar-mini">
    <div class="wrapper">
        @{
            var displayName = "";
            if (User.Identity.IsAuthenticated)
            {
                displayName = string.IsNullOrEmpty(@User.Claims.FirstOrDefault(c => c.Type == "FullName").Value) ?
                    @User.Claims.FirstOrDefault(c => c.Type == "UserName").Value :
                    @User.Claims.FirstOrDefault(c => c.Type == "FullName").Value;
            }

        }
        <!-- Navbar -->
        <nav class="main-header navbar navbar-expand navbar-dark navbar-info">
            <!-- Left navbar links -->
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" data-widget="pushmenu" href="#"><i class="fas fa-bars"></i></a>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link text-warning" data-toggle="dropdown" href="#">
                        @ViewBag.Title2
                    </a>
                </li>
                @*<li class="nav-item d-none d-sm-inline-block">
            <a href="index3.html" class="nav-link">Home</a>
        </li>
        <li class="nav-item d-none d-sm-inline-block">
            <a href="#" class="nav-link">Contact</a>
        </li>*@
            </ul>
            <!-- SEARCH FORM -->
            @*<form class="form-inline ml-3">
                <div class="input-group input-group-sm">
                    <input class="form-control form-control-navbar" type="search" placeholder="Search" aria-label="Search">
                    <div class="input-group-append">
                        <button class="btn btn-navbar" type="submit">
                            <i class="fas fa-search"></i>
                        </button>
                    </div>
                </div>
            </form>*@
            <!-- Right navbar links -->
        <ul class="navbar-nav ml-auto">
            <!-- Messages Dropdown Menu -->
            <li class="nav-item dropdown">
                <a class="nav-link text-warning" data-toggle="dropdown" href="#">
                    <i class="far fa-user-circle"></i> Xin chào: @displayName
                </a>
            </li>
            <li class="nav-item dropdown user user-menu">
                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">
                    <img src="~/adminlte3/dist/img/user2-160x160.jpg" class="user-image img-circle elevation-2 alt="User Image">
                    <span class="hidden-xs"></span>
                </a>
                <ul class="dropdown-menu dropdown-menu-lg dropdown-menu-right">
                    <!-- User image -->
                    <li class="user-header bg-gray">
                        <img src="~/adminlte3/dist/img/user2-160x160.jpg" class="img-circle elevation-2" alt="User Image">
                        <p>
                            @User.Claims.FirstOrDefault(c => c.Type == "FullName").Value
                            <small></small>
                        </p>
                    </li>
                    <!-- Menu Body -->
                    <li class="user-body">
                        <hr />
                        <div class="row">
                            <div class="col-6 text-center">
                                <a class="dropdown-item dropdown-footer" href="@Url.Action("ChangePassword", "Account")">Đổi mật khẩu <i class="fa fa-key"></i></a>
                            </div>
                            <div class="col-6 text-center">
                                <a class="dropdown-item dropdown-footer" href="@Url.Action("Logout", "Account")">Đăng xuất <i class="fa fa-sign-out-alt"></i></a>
                            </div>
                        </div>
                        <!-- /.row -->
                    </li>
                </ul>
            </li>
        </ul>
        </nav>
        <!-- /.navbar -->
        <!-- Main Sidebar Container -->
        <aside class="main-sidebar elevation-4 sidebar-light-olive">
            <!-- Brand Logo -->
            <a href="index3.html" class="brand-link text-center">
                <span class="brand-text font-weight-light text-bold"><b style="font-size: 22px; color: #ffcf3e">CMS 2020</b></span>
            </a>
            <!-- Sidebar -->
            <div class="sidebar os-host os-theme-light os-host-overflow os-host-overflow-y os-host-resize-disabled os-host-scrollbar-horizontal-hidden os-host-transition">
                <!-- Sidebar user panel (optional) -->
                <div class="user-panel mt-3 pb-3 mb-3 d-flex">
                    <div class="image">
                        <img src="~/adminlte3/dist/img/user2-160x160.jpg" class="img-circle elevation-2" alt="User Image">
                    </div>
                    <div class="info">
                        <a href="#" class="d-block">@User.Claims.FirstOrDefault(c => c.Type == "FullName").Value</a>
                    </div>
                </div>
                <!-- Sidebar Menu -->
                <nav class="mt-2" style="overflow: hidden">
                    @await Component.InvokeAsync("MenuInfo")
                </nav>
                <!-- /.sidebar-menu -->
            </div>
            <!-- /.sidebar -->
        </aside>
        <!-- Content Wrapper. Contains page content -->
        <div class="content-wrapper">
            @if (TempData["AlertMessage"] != null)
            {
                <div id="divAlert" class="alert @TempData["AlertType"] alert-dismissible" style="margin: 5px 10px 5px 10px;">
                    <button type="button" class="close text-white" style="opacity: 1" data-dismiss="alert">&times;</button>
                    <strong>Thông báo!</strong> @TempData["AlertMessage"]
                </div>
            }
            <!-- Content Header (Page header) -->
            <div class="content-header">
                <div class="container-fluid">
                    <div class="row mb-2">
                        <div class="col-sm-6">
                            <h1 class="m-0 text-dark">@ViewBag.Title</h1>
                        </div><!-- /.col -->
                        @*<div class="col-sm-6">
                            <ol class="breadcrumb float-sm-right">
                                <li class="breadcrumb-item"><a href="#">Trang chủ</a></li>
                                <li class="breadcrumb-item active">Home</li>
                            </ol>
                        </div>*@
                    </div><!-- /.row -->
                </div><!-- /.container-fluid -->
            </div>
            <!-- /.content-header -->
            <!-- Main content -->
            <div class="content">
                <div class="container-fluid">
                    @RenderBody()
                </div>
            </div>

            <!-- /.content -->
        </div>
        <!-- /.content-wrapper -->
        <!-- Control Sidebar -->
        <aside class="control-sidebar control-sidebar-dark">
            <!-- Control sidebar content goes here -->
            <div class="p-3">
                <h5>Title</h5>
                <p>Sidebar content</p>
            </div>
        </aside>
        <!-- /.control-sidebar -->
        <!-- Main Footer -->
        <footer class="main-footer">
            <!-- To the right -->
            <div class="float-right d-none d-sm-inline">
                CMS @DateTime.Now.Year
            </div>
            <!-- Default to the left -->
            <strong>Copyright &copy; 2019-2020 <a href="https://adminlte.io">chientv.com</a>.</strong> All rights reserved.
        </footer>
    </div>
    <!-- ./wrapper -->
    <!-- REQUIRED SCRIPTS -->
    <!-- jQuery -->
    <script src="~/lib/jquery/dist/jquery.js"></script>
    @*<script src="~/adminlte3/plugins/jquery/jquery.min.js"></script>*@
    <!-- Bootstrap 4 -->
    <script src="~/adminlte3/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>

    @*<script src="@Url.Content("~/adminlte3/plugins/moment/moment.min.js")" type="text/javascript"></script>
        <script src="@Url.Content("~/Scripts/LTE/bootstrap-datepicker.min.js")"></script>
        <script src="@Url.Content("~/Scripts/LTE/bootstrap-timepicker.js")"></script>
        <script src="@Url.Content("~/Scripts/JSBase/daterangepicker.js")" type="text/javascript"></script>*@

    @*<script src="~/lib/syncfusion/bootstrap-select.min.js"></script>*@

    <!-- DataTables -->
    <script src="~/adminlte3/plugins/datatables/jquery.dataTables.js"></script>
    <script src="~/adminlte3/plugins/datatables-bs4/js/dataTables.bootstrap4.js"></script>
    <script src="~/adminlte3/plugins/datatables-fixedcolumns/js/dataTables.fixedColumns.min.js"></script>
    <script src="~/adminlte3/plugins/datatables-fixedcolumns/js/fixedColumns.bootstrap4.min.js"></script>
    <!-- AdminLTE App -->
    <script src="~/adminlte3/dist/js/adminlte.min.js"></script>
    <script src="~/js/site.js"></script>
    <!-- Select2 -->
    <script src="~/adminlte3/plugins/select2/js/select2.full.min.js"></script>
    <!-- Jstree -->
    <script src="@Url.Content("~/lib/jsTree/jstree.js")" type="text/javascript"></script>
    <!-- HoldOn -->
    @*<script src="@Url.Content("~/Scripts/HoldOn/HoldOn.min.js")" type="text/javascript"></script>*@

    <!-- Jquery Confirm -->
    <script src="~/lib/jquery-confirm/jquery-confirm.min.js"></script>
    <script src="~/adminlte3/plugins/pace/pace.js"></script>

    <script>
        $(function () {
            jQuery('#divAlert').removeClass('hide');
            jQuery('#divAlert').delay(5000).slideUp(500);
        });

        $(function () {
            $('#tblData').DataTable({
                "fixedHeader": false,
                fixedColumns: {
                    leftColumns: 0,
                    rightColumns: 1
                },
                "pageLength": 10,
                "paging": true,
                "scrollX": true,
                "scrollCollapse": false,
                "lengthChange": true,
                "searching": true,
                "ordering": true,
                "info": true,
                "autoWidth": true,
                "language": {
                    "decimal": ".",
                    "thousands": ",",
                    "sProcessing": "Đang xử lý...",
                    "sLengthMenu": "Xem _MENU_ mục",
                    "sZeroRecords": "Không tìm thấy dòng nào phù hợp",
                    "sInfo": "Đang xem _START_ đến _END_ trong tổng số _TOTAL_ mục",
                    "sInfoEmpty": "Đang xem 0 đến 0 trong tổng số 0 mục",
                    "sInfoFiltered": "(được lọc từ _MAX_ mục)",
                    "sInfoPostFix": "",
                    "sSearch": "Lọc dữ liệu:",
                    "sUrl": "",
                    "oPaginate": {
                        "sFirst": "Đầu",
                        "sPrevious": "Trước",
                        "sNext": "Tiếp",
                        "sLast": "Cuối"
                    }
                }
            });

            $('#tblDataSimple').DataTable({
                "paging": false,
                "scrollCollapse": true,
                "lengthChange": false,
                "searching": false,
                "ordering": false,
                "info": false,
                "autoWidth": true
            });
        });

        //Initialize Select2 Elements
        $('.select2').select2();

        //Initialize Select2 Elements
        $('.select2bs4').select2({
            theme: 'bootstrap4'
        });

                        //function ajaxLoading(themeName) {
                        //    HoldOn.open({
                        //        theme: themeName,
                        //        message: "<h5>" + " Đang load dữ liệu. Vui lòng đợi!</h4>",
                        //        //backgroundColor: "#333333",
                        //        textColor: "white"
                        //    });
                        //}

                        //function ajaxStop() {
                        //    HoldOn.close();
                        //}

                        //jQuery(document)
                        //    .ajaxStart(function () {
                        //        ajaxLoading('sk-rect');
                        //        Pace.restart();
                        //    })
                        //    .ajaxStop(function () {
                        //        ajaxStop();
                        //    });

                        //jQuery('.datepicker').datepicker({
                        //    autoclose: true,
                        //    format: 'dd/mm/yyyy'
                        //});

    </script>

    @RenderSection("Scripts", required: false)
</body>
</html>
